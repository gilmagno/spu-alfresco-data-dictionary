<?xml version="1.0" encoding="UTF-8"?>

<!-- Definition of new Model -->
<model name="spu:spu" xmlns="http://www.alfresco.org/model/dictionary/1.0">

	<!-- Imports are required to allow references to definitions in other models -->
	<imports>
		<!-- Import Alfresco Dictionary Definitions -->
		<import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d" />
		<!-- Import Alfresco Content Domain Model Definitions -->
		<import uri="http://www.alfresco.org/model/content/1.0" prefix="cm" />
	</imports>

	<!-- Introduction of new namespaces defined by this model -->
	<namespaces>
		<namespace uri="extension.spu" prefix="spu" />
	</namespaces>

	<types>
		<!-- Categoria de Processo -->
		<type name="spu:tipoprocesso">
			<title>Tipo de Processo</title>
			<parent>cm:folder</parent>
			<properties>
				<property name="spu:tipoprocesso.Simples">
					<title>Simples</title>
				   	<type>d:boolean</type>
		   		</property>
				<property name="spu:tipoprocesso.Observacao">
					<title>Observação</title>
				   	<type>d:text</type>
					<mandatory>true</mandatory>
		   		</property>
				<property name="spu:tipoprocesso.Letra">
					<title>Letra</title>
				   	<type>d:text</type>
				</property>
				<property name="spu:tipoprocesso.Tramitacao">
					<title>Tramitação</title>
					<type>d:text</type>
				   	<mandatory>true</mandatory>
					<constraints>
						<constraint type="LIST">
							<parameter name="allowedValues">
								<list>
									<value>Serie</value>
									<value>Paralelo</value>
								</list>
							</parameter>
							<parameter name="caseSensitive">
								<value>true</value>
							</parameter>
						</constraint>
					</constraints>
				</property>
				<property name="spu:tipoprocesso.Abrangencia">
					<title>Abrangência</title>
					<type>d:text</type>
				   	<mandatory>true</mandatory>
					<constraints>
						<constraint type="LIST">
							<parameter name="allowedValues">
								<list>
									<value>Interna</value>
									<value>Externa</value>
								</list>
							</parameter>
							<parameter name="caseSensitive">
								<value>true</value>
							</parameter>
						</constraint>
					</constraints>
				</property>
				<property name="spu:tipoprocesso.TipoManifestante">
					<title>Tipos de Manifestante</title>
					<type>d:text</type>
				   	<mandatory>true</mandatory>
					<multiple>true</multiple>
					<constraints>
						<constraint type="LIST">
							<parameter name="allowedValues">
								<list>
									<value>Orgao da PMF</value>
									<value>Outros (Estagiario, Terceirizado)</value>
									<value>Pessoa Fisica</value>
									<value>Pessoa Juridica</value>
									<value>Servidor Comissionado</value>
									<value>Servidor Efetivo</value>
								</list>
							</parameter>
							<parameter name="caseSensitive">
								<value>false</value>
							</parameter>
						</constraint>
					</constraints>
				</property>
				<property name="spu:tipoprocesso.EnvolvidoSigiloso">
					<title>Envolvido Sigiloso</title>
				   	<type>d:boolean</type>
		   		</property>
			</properties>
		</type>
		<!-- Tipo de Processo -->
		<type name="spu:assunto">
			<title>Assunto</title>
			<parent>cm:folder</parent>
			<properties>
				<property name="spu:assunto.Corpo">
					<title>Corpo</title>
				   	<type>d:text</type>
		   		</property>
				<property name="spu:assunto.NotificarNaAbertura">
					<title>Notificar na Abertura</title>
				   	<type>d:boolean</type>
		   		</property>
			</properties>
			<associations>
				<association name="spu:assunto.TipoProcesso">
					<title>Tipo de Processo</title>
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>spu:tipoprocesso</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</type>
		<!-- Processo -->
		<type name="spu:processo">
			<title>Processo</title>
			<parent>cm:folder</parent>
			<properties>
				<property name="spu:processo.Data">
				   	<title>Data</title>
				   	<type>d:datetime</type>
                    <mandatory>true</mandatory>
		   		</property>
		    	<property name="spu:processo.Observacao">
			 	   	<title>Observacao</title>
		       		<type>d:text</type>
			    </property>
				<property name="spu:processo.NumeroOrigem">
				   	<title>Numero de Origem</title>
				   	<type>d:text</type>
                    <mandatory>true</mandatory>
		    	</property>
				<property name="spu:processo.DataPrazo">
				   	<title>Data de Prazo</title>
		           	<type>d:date</type>
		   		</property>
				<property name="spu:processo.Corpo">
				   	<title>Corpo</title>
				   	<type>d:text</type>
                    <mandatory>true</mandatory>
		    	</property>
                <property name="spu:processo.Prioridade">
					<title>Prioridade</title>
					<type>d:text</type>
					<mandatory>true</mandatory>
					<constraints>
						<constraint type="LIST">
							<parameter name="allowedValues">
								<list>
									<value>Ordinario (Normal)</value>
									<value>Prioritario</value>
									<value>Urgente</value>
								</list>
							</parameter>
							<parameter name="caseSensitive">
								<value>true</value>
							</parameter>
						</constraint>
					</constraints>
				</property>
				<!-- Manifestante - Inicio -->
				<property name="spu:processo.ManifestanteNome">
				   	<title>Nome do Manifestante</title>
				   	<type>d:text</type>
                    <mandatory>true</mandatory>
		    	</property>
				<property name="spu:processo.ManifestanteCpf">
				   	<title>CPF do Manifestante</title>
				   	<type>d:text</type>
                    <mandatory>true</mandatory>
		    	</property>
				<property name="spu:processo.ManifestanteTipo">
				   	<title>Tipo do Manifestante</title>
				   	<type>d:text</type>
                    <mandatory>true</mandatory>
		    	</property>
				<property name="spu:processo.ManifestanteBairro">
				   	<title>Bairro do Manifestante</title>
				   	<type>d:category</type>
                    <mandatory>true</mandatory>
		    	</property>			
				<!-- Manifestante - Fim -->
			</properties>
			<associations>
				<association name="spu:processo.Assunto">
					<title>Assunto</title>
					<target>
						<class>spu:assunto</class>
						<mandatory>false</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</type>
        <!-- Formulario -->
		<type name="spu:formularioprocesso">
			<title>Formulario de Processo</title>
			<parent>cm:content</parent>
		</type>
		<!-- Resposta Formulario -->
		<type name="spu:respostasformularioprocesso">
			<title>Respostas de Formulario de Processo</title>
			<parent>cm:content</parent>
		</type>
		<!-- Protocolo - Pasta de Entrada/Saida/Arquivo do SPU -->
		<type name="spu:protocolo">
			<title>Protocolo</title>
			<parent>cm:folder</parent>
			<properties>
				<property name="spu:protocolo.Orgao">
				   	<title>Orgao</title>
				   	<type>d:text</type>
                    <mandatory>false</mandatory>
				</property>
				<property name="spu:protocolo.Lotacao">
				   	<title>Lotacao</title>
				   	<type>d:text</type>
                    <mandatory>true</mandatory>
				</property>
			</properties>
		</type>
		<!-- Caixa de Entrada -->
		<type name="spu:caixaentrada">
			<title>Caixa de Entrada de Processos</title>
			<parent>cm:folder</parent>
		</type>
	</types>
</model>
